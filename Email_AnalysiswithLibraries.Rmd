---
title: "Email_Analysis"
author: "Jonathan Roberts"
date: "7 April 2017"
output: 
    html_notebook: default
    html_document: default
    
---

#Get up and running
##Global RMarkdown Parameters
Are set here

```{r setup, include=TRUE}
knitr::opts_chunk$set(echo = TRUE)
```


##Install the R markdown packages and library

```{r message = FALSE, warning = TRUE}
libraries <- c("rmarkdown", "tidytext", "magrittr", "dplyr", "tidyr", "lazyeval", "purrr")

#UNCOMMENT TO INSTALL PACKAGES
lapply(libraries, install.packages)
lapply(libraries, library, character.only = TRUE)
```

## Working Directory: 
Set up where you are working and what is in the directory and what objects you have
 
```{r}

# SET THE WORKING DIRECTORY
setwd("/Users/jonathanroberts/Documents/R/Email_Analysis")
dir()
ls()

```

#Assignment: Part 1 & 2


#Playing Around with Email Data
Shot term aim will be to have a function where you send it a person/email adress and you can 
Long term aim might be to do:
topic modelling and see how the changes over time
LSA/clustering and see how that changes over time
Maybe doing that sort of thing when passing a set of users over to it

Another area to explore might be linking to other people's data and having some network diagrams perhaps.

Ultimately i'd like to get something which might be a jonbot and suggest responses to emails for me...



##Write in the data and have a look at it

```{r}

raw_data <- read.csv("../SensitiveData/2017_sent_emails.CSV", colClasses = "character")
str(raw_data)
summary(raw_data)
class(raw_data)
colnames(raw_data)
raw_data[,6]

```


##Pull out relevant subsets of the data
Write a function that receives the rawdata and an email address and send back the raw data for that person, and possible just the email text and not all the rest of the data.

First time round probably do some loose search on whether they were one of the people emailed, maybe a function like contains - although this isn't an r thing.

```{r}

individual_emails<-function(source_data, text_column, name = "Osama", name_column){
  #take in the source_data
  #look for the person's name
  #filter the sourcedata on that name
  #return the text column
}

##uncomment the following line when ready to call the function
text_to_analyse <- individual_emails(raw_data,2,5)


```


##Pass to Sam's special code
```{r}



```




